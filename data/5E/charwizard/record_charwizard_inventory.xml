<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="charsheet_charwizard_inventory">
		<sheetdata>
			<subwindow name="contents">
				<anchored>
					<top offset="0" />
					<bottom offset="0" />
					<left offset="0" />
					<right offset="-535" />
				</anchored>
				<class>charwizard_inv_contents</class>
				<activate />
				<fastinit />
			</subwindow>
			<scrollbar_charcontents />
		</sheetdata>
	</windowclass>

	<windowclass name="charwizard_inv_contents">
		<sheetdata>
			
			<anchor_column name="columnanchor" />			
			<anchor_column name="subanchor" />
			
			<label_charframetop name="inventory_items_label">
				<anchored height="20">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="15" />
					<left offset="15" />
					<right offset="-15" />
				</anchored>
				<icons>char_inventory</icons>
				<static textres="charwizard_label_items" />
			</label_charframetop>
			
			<genericcontrol name="geninventoryframe">
				<anchored height="20">
					<top parent="inventory_items_label" anchor="bottom" relation="relative" offset="15" />
					<left offset="15" />
					<right offset="-15" />					
				</anchored>
				<frame name="groupbox" offset="10,10,10,10" />
			</genericcontrol>
			<label name="items_label">
				<anchored to="geninventoryframe" position="insidetopleft" offset="2,0" />
				<static textres="charwizard_itemlist_title" />
				<center />
			</label>
			<label name="items_filter_label">
				<anchored to="geninventoryframe" position="insidetopleft" offset="235,0" />
				<static textres="charwizard_itemlistfilter_title" />
			</label>
			<stringcontrol name="filter_toggle">
				<anchored to="items_filter_label" position="right" offset="5" width="140" />
				<invisible />
			</stringcontrol>
			<stringcontrol name="filter">
				<anchored to="items_filter_label" position="right" offset="5" width="140" />
				<frame name="fieldlight" offset="5,5,5,5" />
				<font>sheetlabel</font>
				<script>
					function onEnter()
						if window.filter_toggle.getValue() == "weapons" then
							window.itemlist.addItems("Weapon", window.filter.getValue());
						elseif window.filter_toggle.getValue() == "armor" then
							window.itemlist.addItems("Armor", window.filter.getValue());
						else
							window.itemlist.addItems("Adventuring Gear", window.filter.getValue());						
						end
					end
				</script>
			</stringcontrol>
			<button_charwizard_race name="gear_button">
				<anchored>
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="49" />
					<left offset="15" />
					<right offset="-325" />
					<bottom offset="-390" />
				</anchored>
				<state textres="button_gear_text" />
				<script>
					function onInit()
						setFrame("buttondown", 5, 5, 5, 5)
					end
					function onButtonPress()
						window.itemlist.addItems("Adventuring Gear", window.filter.getValue());
						window.filter_toggle.setValue("gear");						
						window.weapon_button.setFrame("buttonup", 5, 5, 5, 5);
						window.armor_button.setFrame("buttonup", 5, 5, 5, 5);

						setFrame("buttondown", 5, 5, 5, 5);						
					end
				</script>
			</button_charwizard_race>
			<button_charwizard_race name="weapon_button">
				<anchored to="gear_button" position="right" offset="16,0" width="140" />
				<state textres="button_weapon_text" />
				<script>
					function onButtonPress()
						window.itemlist.addItems("Weapon", window.filter.getValue());
						window.filter_toggle.setValue("weapons");
						window.gear_button.setFrame("buttonup", 5, 5, 5, 5);
						window.armor_button.setFrame("buttonup", 5, 5, 5, 5);

						setFrame("buttondown", 5, 5, 5, 5);						
					end
				</script>
			</button_charwizard_race>
			<button_charwizard_race name="armor_button">
				<anchored to="weapon_button" position="right" offset="16,0" width="140" />
				<state textres="button_armor_text" />
				<script>
					function onButtonPress()
						window.itemlist.addItems("Armor", window.filter.getValue());					
						window.filter_toggle.setValue("armor");						
						window.weapon_button.setFrame("buttonup", 5, 5, 5, 5);
						window.gear_button.setFrame("buttonup", 5, 5, 5, 5);

						setFrame("buttondown", 5, 5, 5, 5);						
					end
				</script>
			</button_charwizard_race>			
			<windowlist name="itemlist">
				<anchored>
					<top parent="gear_button" anchor="bottom" relation="relative" offset="12" />
					<left offset="15" />
					<right offset="-15" />
					<bottom offset="-225" />
				</anchored>
				<skipempty />
				<readonly />
				<child></child>
				<child><backcolor>1A40301E</backcolor></child>
				<frame name="fielddark" offset="10,9,10,9" />
				<empty><textres>emptyset</textres></empty>
				<class>itemlist_item</class>
				<sortby><control>name</control></sortby>				
				<script file="charwizard/scripts/charwizard_itemlist.lua" />
			</windowlist>
			
			<scrollbar name="itemlist_scrollbar">
				<anchored to="itemlist" />
				<target>itemlist</target>
			</scrollbar>

			<genericcontrol name="geninvframe">
				<anchored height="20">
					<top parent="itemlist" anchor="bottom" relation="relative" offset="17" />
					<left offset="15" />
					<right offset="-15" />					
				</anchored>				
				<frame name="groupbox" offset="10,10,10,10" />
			</genericcontrol>
			<label name="inventory_label">
				<anchored to="geninvframe" position="insidetopleft" offset="2,0" />
				<static textres="charwizard_inventory_title" />
				<center />
			</label>
			<label name="items_cost_label">
				<anchored to="geninvframe" position="insidetopleft" offset="145,0" />
				<static textres="charwizard_cost_title" />
			</label>
			<label name="items_cost_label_pp">
				<anchored to="geninvframe" position="insidetopleft" offset="225,0" />
				<static textres="charwizard_cost_title_pp" />
			</label>			
			<numberc name="total_cost_pp">
				<anchored to="items_cost_label_pp" position="right" offset="5" width="40" />
				<frame name="fieldlight" offset="5,5,5,5" />
				<readonly />
				<font>sheetlabel</font>
			</numberc>				
			<label name="items_cost_label_gp">
				<anchored to="geninvframe" position="insidetopleft" offset="295,0" />
				<static textres="charwizard_cost_title_gp" />
			</label>			
			<numberc name="total_cost_gp">
				<anchored to="items_cost_label_gp" position="right" offset="5" width="20" />
				<frame name="fieldlight" offset="5,5,5,5" />
				<readonly />
				<font>sheetlabel</font>
			</numberc>
			<label name="items_cost_label_sp">
				<anchored to="geninvframe" position="insidetopleft" offset="345,0" />
				<static textres="charwizard_cost_title_sp" />
			</label>			
			<numberc name="total_cost_sp">
				<anchored to="items_cost_label_sp" position="right" offset="5" width="20" />
				<frame name="fieldlight" offset="5,5,5,5" />
				<readonly />
				<font>sheetlabel</font>
			</numberc>
			<label name="items_cost_label_cp">
				<anchored to="geninvframe" position="insidetopleft" offset="395,0" />
				<static textres="charwizard_cost_title_cp" />
			</label>			
			<numberc name="total_cost_cp">
				<anchored to="items_cost_label_cp" position="right" offset="5" width="20" />
				<frame name="fieldlight" offset="5,5,5,5" />
				<readonly />
				<font>sheetlabel</font>
			</numberc>
			
			<windowlist name="inventory">
				<anchored>
					<top parent="geninvframe" anchor="bottom" relation="relative" offset="16" />
					<left offset="15" />
					<right offset="-15" />
					<bottom offset="-42" />
				</anchored>
				<skipempty />				
				<frame name="fielddark" offset="10,9,10,9" />
				<scrollbar>
					<anchored to="inventory" anchor="insideright" />
				</scrollbar>
				<child></child>
				<child><backcolor>1A40301E</backcolor></child>
				<empty><textres>inventory_drag_notice</textres></empty>				
				<class>charwizard_invitem</class>
				<allowdelete />
				<script file="charwizard/scripts/charwizard_invlist.lua" />			
			</windowlist>

			<scrollbar name="inventory_scrollbar">
				<anchored to="inventory" />
				<target>inventory</target>
			</scrollbar>
		</sheetdata>			
	</windowclass>

	<windowclass name="itemlist_item">
		<margins control="0,0,0,2" />
		<sheetdata>
			<linkfield_list name="link" />
			<string_list_link name="name">
				<bounds>30,2,140,20</bounds>
				<readonly />
			</string_list_link>
			<stringcontrol name="ac">
				<bounds>170,2,40,20</bounds>
				<center />
				<readonly />
				<invisible/>
			</stringcontrol>
			<stringcontrol name="damage">
				<bounds>150,2,60,20</bounds>
				<center />
				<readonly />				
				<invisible/>
			</stringcontrol>
			<stringcontrol name="subtype">
				<bounds>210,2,120,20</bounds>
				<center />
				<readonly />				
				<invisible/>
			</stringcontrol>			
			<stringcontrol name="weight">
				<bounds>320,2,20,20</bounds>
				<readonly />				
			</stringcontrol>
			<stringcontrol name="cost">
				<bounds>360,2,70,20</bounds>
				<readonly />				
			</stringcontrol>
			<stringcontrol name="type">
				<bounds>170,2,120,20</bounds>
				<readonly />				
				<invisible/>				
			</stringcontrol>
		</sheetdata>
	</windowclass>

	<windowclass name="charwizard_invitem">
		<margins control="0,0,0,2" />
		<sheetdata>
			<hidden_record_isidentified name="isidentified"><class>item</class><ignorehost /></hidden_record_isidentified>

			<number_charinv name="count">
				<bounds>5,2,20,20</bounds>
				<tabtarget next="name" />
				<default>1</default>
				<min>1</min>
				<script>
					function onValueChanged()
						window.windowlist.updateInventory();
					end
				</script>
			</number_charinv>

			<genericcontrol name="rightanchor">
				<anchored width="0" height="0">
					<top />
					<right />
				</anchored>
				<invisible />
			</genericcontrol>
			<linkcontrol_id name="shortcut">
				<anchored width="20" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-2" />
				</anchored>
				<class>item</class>
				<readonly />
				<script>
					function onClose()
						window.windowlist.onItemDeleted(window.count.getValue(), getValue());
					end
				</script>				
			</linkcontrol_id>
			<button_char_inv_carried name="carried">
				<anchored width="20" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
			</button_char_inv_carried>
			<number_charinv name="weight">
				<anchored width="30" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<delaykeyupdate />
				<tabtarget prev="location" />
			</number_charinv>
			<numberc name="cost">
				<bounds>360,2,70,20</bounds>			
				<invisible/>
			</numberc>
			<string_charinvname name="name">
				<anchored position="insidetopleft" offset="35,2" height="20">
					<right parent="rightanchor" anchor="left" relation="current" offset="-5" />
				</anchored>
				<tabtarget next="nonid_name" prev="count" />
			</string_charinvname>
			<string_charinvname name="nonid_name">
				<anchored position="insidetopleft" offset="35,2" height="20">
					<right parent="rightanchor" anchor="left" relation="current" offset="-5" />
				</anchored>
				<empty textres="library_recordtype_empty_nonid_item" />
				<invisible />
				<tabtarget next="location" prev="name" />
			</string_charinvname>
		</sheetdata>
	</windowclass>
</root>
